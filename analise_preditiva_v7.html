<!DOCTYPE html>
<html lang="pt-BR">
<head>
<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon" href="icon-192x192.png">

<!-- Service Worker -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(() => console.log('App pronto para offline!'));
  }
</script>

  <style>
    :root {
      --primary-color: #0ff;
      --primary-color-transparent: rgba(0, 255, 255, 0);
      --background-color: #000;
      --container-bg: #111;
      --border-color: #0ff;
      --shadow-color: rgba(0, 255, 255, 0.7);
      --grid-color: rgba(0, 255, 255, 0.1);
      --font-family: 'Courier New', Courier, monospace;
      --error-color: #ff3333;
    }

    *, *::before, *::after {
        box-sizing: border-box;
    }

    body {
      margin: 0;
      background: var(--background-color);
      color: var(--primary-color);
      font-family: var(--font-family);
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      min-height: 100vh;
      min-height: -webkit-fill-available;
      padding: 10px;
    }

    /* Tela de Login */
    .login-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      background: radial-gradient(circle at center, rgba(0, 255, 255, 0.1) 0%, var(--background-color) 70%);
    }

    .login-box {
      background: var(--container-bg);
      border: 2px solid var(--border-color);
      border-radius: 15px;
      padding: 30px;
      width: 100%;
      max-width: 400px;
      box-shadow: 0 0 30px var(--shadow-color);
      animation: loginGlow 2s ease-in-out infinite alternate;
    }

    .login-title {
      font-size: clamp(1.5em, 4vw, 2em);
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 0 15px var(--shadow-color);
      animation: flicker 1.5s infinite alternate;
    }

    .login-subtitle {
      text-align: center;
      font-size: 0.9em;
      margin-bottom: 25px;
      opacity: 0.8;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-label {
      display: block;
      font-size: 0.9em;
      margin-bottom: 8px;
      text-shadow: 0 0 5px var(--shadow-color);
    }

    .input-field {
      width: 100%;
      padding: 15px;
      background: transparent;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      color: var(--primary-color);
      font-family: var(--font-family);
      font-size: 1.1em;
      box-shadow: 0 0 10px var(--shadow-color) inset;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 20px var(--shadow-color);
      background: rgba(0, 255, 255, 0.05);
    }

    .input-field::placeholder {
      color: rgba(0, 255, 255, 0.5);
    }

    .login-btn {
      width: 100%;
      padding: 18px;
      background: transparent;
      border: 2px solid var(--primary-color);
      border-radius: 10px;
      color: var(--primary-color);
      font-family: var(--font-family);
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 15px var(--shadow-color);
      margin-top: 20px;
    }

    .login-btn:hover, .login-btn:active {
      background: var(--primary-color);
      color: var(--background-color);
      box-shadow: 0 0 25px var(--shadow-color);
      transform: translateY(-2px);
    }

    .error-message {
      color: var(--error-color);
      text-align: center;
      margin-top: 15px;
      font-size: 0.9em;
      text-shadow: 0 0 10px var(--error-color);
      animation: shake 0.5s ease-in-out;
    }

    .security-info {
      text-align: center;
      margin-top: 30px;
      font-size: 0.8em;
      opacity: 0.6;
      line-height: 1.4;
    }

    /* Interface Principal (escondida inicialmente) */
    .main-app {
      display: none;
    }

    .main-app.active {
      display: flex;
    }

    /* === [INÍCIO] CÓDIGO CORRIGIDO === */
    header {
      position: relative;
      width: 100%;
      text-align: center;
      border-bottom: 1px solid var(--border-color);
      padding: 15px 20px 15px 20px;
      box-shadow: 0 2px 10px var(--shadow-color);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .user-info {
      position: static;
      margin-top: 10px;
      font-size: 0.9em;
      opacity: 0.8;
      display: flex;
      align-items: center;
      order: 2;
    }

    h1 {
      order: 1;
      font-size: clamp(1.8em, 5vw, 2.5em);
      text-shadow: 0 0 10px var(--shadow-color);
      margin: 0;
      animation: flicker 1.5s infinite alternate;
    }

    #hora {
      order: 2;
      font-size: 1.1em;
      margin: 0 0 10px 0;
      text-shadow: 0 0 5px var(--shadow-color);
    }

    @media (min-width: 768px) {
      header {
        flex-direction: row;
        justify-content: center;
        padding: 15px 20px;
      }
      
      .user-info {
        position: absolute;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
        margin-top: 0;
      }
      
      #hora {
        order: initial;
        margin: 5px 0 0 0;
      }
    }
    /* === [FIM] CÓDIGO CORRIGIDO === */

    .logout-btn {
      background: none;
      border: 1px solid var(--border-color);
      color: var(--primary-color);
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      font-family: var(--font-family);
      font-size: 0.8em;
      margin-left: 10px;
      transition: all 0.3s ease;
    }

    .logout-btn:hover {
      background: var(--primary-color);
      color: var(--background-color);
    }

    .grafico-container {
      width: 100%;
      max-width: 900px;
      height: clamp(250px, 40vh, 400px);
      flex-grow: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 15px 0;
      min-height: 250px;
    }

    canvas {
      display: block;
      width: 100%;
      height: 100%;
      background: var(--container-bg);
      border: 2px solid var(--border-color);
      border-radius: 10px;
      box-shadow: 0 0 20px var(--shadow-color) inset;
    }

    .jogos-marquee {
      font-size: clamp(0.9em, 3vw, 1.2em);
      white-space: nowrap;
      overflow: hidden;
      width: 100%;
      text-align: center;
      margin-bottom: 15px;
      background: var(--container-bg);
      border: 1px solid var(--border-color);
      padding: 8px 0;
      border-radius: 5px;
    }

    .jogos-marquee span {
      display: inline-block;
      padding-right: 100%;
      animation: slide 25s linear infinite;
    }

    .botoes-container {
      display: flex;
      flex-direction: column;
      width: 100%;
      max-width: 400px;
      gap: 12px;
      margin-bottom: 15px;
    }
    
    @media (min-width: 768px) {
      .botoes-container {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        max-width: none;
        gap: 15px;
      }
    }

    .botao {
      background-color: transparent;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
      padding: 15px 20px;
      font-size: clamp(1em, 3.5vw, 1.2em);
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 10px var(--shadow-color);
      transition: all 0.3s ease;
      font-family: var(--font-family);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      width: 100%;
      text-align: center;
      min-height: 54px;
    }
    
    @media (min-width: 768px) {
      .botao {
        width: auto;
        padding: 15px 30px;
      }
    }

    .botao:hover, .botao:focus, .botao:active {
      background-color: var(--primary-color);
      color: var(--background-color);
      box-shadow: 0 0 20px var(--shadow-color), 0 0 30px var(--shadow-color);
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
      transform: scale(0.98);
    }

    .resultado-terminal {
      margin-top: 15px;
      text-align: left;
      font-size: clamp(0.9em, 2.5vw, 1.1em);
      padding: 15px;
      border: 1px solid var(--border-color);
      border-radius: 10px;
      box-shadow: 0 0 10px var(--shadow-color) inset;
      width: 100%;
      max-width: 800px;
      min-height: 120px;
      max-height: 300px;
      overflow-y: auto;
      word-wrap: break-word;
      white-space: pre-wrap;
      -webkit-overflow-scrolling: touch;
    }
    
    .resultado-terminal::before {
        content: "> ";
    }

    /* Estilo para o botão de mostrar senha */
    .password-container {
      position: relative;
    }

    #togglePassword {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--primary-color);
      cursor: pointer;
      font-size: 1.2em;
      padding: 5px;
    }

    @keyframes slide {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    
    @keyframes flicker {
      0%, 100% { text-shadow: 0 0 10px var(--shadow-color); opacity: 1; }
      50% { text-shadow: 0 0 10px var(--shadow-color), 0 0 20px var(--shadow-color); opacity: 0.8; }
    }

    @keyframes loginGlow {
      0% { box-shadow: 0 0 30px var(--shadow-color); }
      100% { box-shadow: 0 0 50px var(--shadow-color), 0 0 70px var(--shadow-color); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <!-- Tela de Login -->
  <div class="login-container" id="loginScreen">
    <div class="login-box">
      <h2 class="login-title">🔐 ACESSO RESTRITO</h2>
      <p class="login-subtitle">Sistema de Análise Preditiva V6.0</p>

      <form id="loginForm">
        <div class="input-group">
          <label class="input-label" for="username">👤 Usuário:</label>
          <input type="text" id="username" class="input-field" placeholder="Digite seu usuário" autocomplete="username" required>
        </div>
        
        <div class="input-group">
          <label class="input-label" for="password">🔑 Senha:</label>
          <div class="password-container">
            <input type="password" id="password" class="input-field" placeholder="Digite sua senha" autocomplete="current-password" required>
            <button type="button" id="togglePassword">👁️</button>
          </div>
        </div>
        
        <button type="submit" class="login-btn">[ ACESSAR SISTEMA ]</button>
      </form>
      
      <div id="errorMessage" class="error-message hidden"></div>
      
      <div class="security-info">
        🛡️ Sistema criptografado<br>
        📊 Dados protegidos por algoritmos avançados<br>
        ⚡ Conexão segura estabelecida
      </div>
    </div>
  </div>

  <!-- Interface Principal -->
  <main class="container main-app" id="mainApp">
    <header>
      <h1>Análise Preditiva</h1>
      <div id="hora"></div>
      
      <div class="user-info" id="userInfo">
        Usuário: <span id="currentUser">-</span>
        <button class="logout-btn" id="logoutBtn">SAIR</button>
      </div>
    </header>

    <figure class="grafico-container">
      <canvas id="grafico"></canvas>
    </figure>

    <div class="jogos-marquee">
      <span>
        🎰 Fortune Tiger • 🐂 Fortune Ox • 🐉 Fortune Dragon • 🐇 Fortune Rabbit • 🐭 Fortune Mouse • 
      </span>
    </div>

    <div class="botoes-container">
      <button class="botao" id="btnIniciar">[ Iniciar Plataforma ]</button>
      <button class="botao" id="btnIdentificar">[ Identificar Jogo ]</button>
      <button class="botao" id="btnComputar">[ Computar Estratégia ]</button>
    </div>

    <div class="resultado-terminal" id="resultado" aria-live="polite">Aguardando comando...</div>
  </main>

  <script>
    // Sistema de Login
    const LoginSystem = {
      // Usuários válidos (em produção, isso deveria estar em um servidor)
      validUsers: {
        'William Barão': 'SenhaNova2030',
        'admin': 'admin123',
        'usuario': '123456',
        'vip': 'vip2024',
        'master': 'master999',
        'analista': 'pred123'
      },

      currentUser: null,

      init() {
        this.bindEvents();
        this.checkStoredSession();
      },

      bindEvents() {
        document.getElementById('loginForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.attemptLogin();
        });

        document.getElementById('logoutBtn').addEventListener('click', () => {
          this.logout();
        });

        // Mostrar/ocultar senha
        document.getElementById('togglePassword').addEventListener('click', function() {
          const passwordInput = document.getElementById('password');
          const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordInput.setAttribute('type', type);
          this.textContent = type === 'password' ? '👁️' : '🙈';
        });
      },

      checkStoredSession() {
        // Verificar se há uma sessão ativa (temporária, só durante a página)
        const storedUser = sessionStorage.getItem('currentUser');
        if (storedUser && this.validUsers[storedUser]) {
          this.loginSuccess(storedUser);
        }
      },

      attemptLogin() {
        const username = document.getElementById('username').value.trim();
        const password = document.getElementById('password').value;
        const errorDiv = document.getElementById('errorMessage');

        // Limpar erro anterior
        errorDiv.classList.add('hidden');

        // Validar credenciais
        if (this.validUsers[username] && this.validUsers[username] === password) {
          this.loginSuccess(username);
        } else {
          this.showError('❌ Usuário ou senha incorretos!');
          this.clearForm();
        }
      },

      loginSuccess(username) {
        this.currentUser = username;
        sessionStorage.setItem('currentUser', username);
        
        // Mostrar nome do usuário
        document.getElementById('currentUser').textContent = username;
        
        // Trocar telas
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('mainApp').classList.add('active');
        
        // Inicializar aplicativo principal
        App.init();
      },

      showError(message) {
        const errorDiv = document.getElementById('errorMessage');
        errorDiv.textContent = message;
        errorDiv.classList.remove('hidden');
      },

      clearForm() {
        document.getElementById('username').value = '';
        document.getElementById('password').value = '';
        document.getElementById('username').focus();
      },

      logout() {
        this.currentUser = null;
        sessionStorage.removeItem('currentUser');
        
        // Voltar para tela de login
        document.getElementById('mainApp').classList.remove('active');
        document.getElementById('loginScreen').style.display = 'flex';
        
        this.clearForm();
      }
    };

    // Aplicativo Principal
    const App = {
      elements: {},
      state: {
        isTyping: false,
        typingTimeout: null,
      },
      
      init() {
        this.cacheDOM();
        this.bindEvents();
        this.updateTime();
        setInterval(() => this.updateTime(), 1000);
        setTimeout(() => {
          RealtimeChart.init(this.elements.grafico);
        }, 100);
        this.setupMarquee();
      },

      cacheDOM() {
        this.elements.hora = document.getElementById('hora');
        this.elements.resultado = document.getElementById('resultado');
        this.elements.btnIniciar = document.getElementById('btnIniciar');
        this.elements.btnIdentificar = document.getElementById('btnIdentificar');
        this.elements.btnComputar = document.getElementById('btnComputar');
        this.elements.grafico = document.getElementById('grafico');
        this.elements.jogosMarqueeSpan = document.querySelector('.jogos-marquee span');
      },

      bindEvents() {
        this.elements.btnIniciar.addEventListener('click', () => this.abrirPlataforma());
        this.elements.btnIdentificar.addEventListener('click', () => this.processarJogo());
        this.elements.btnComputar.addEventListener('click', () => this.processarEstrategia());
      },
      
      setupMarquee() {
        const originalContent = this.elements.jogosMarqueeSpan.innerHTML;
        this.elements.jogosMarqueeSpan.innerHTML += originalContent;
      },

      updateTime() {
        const agora = new Date();
        const horaFormatada = agora.toLocaleString('pt-BR', { hour12: false });
        this.elements.hora.textContent = `[ ${horaFormatada} ]`;
      },
      
      typeWriter(text, i = 0) {
        if (i === 0) {
            this.state.isTyping = true;
            clearTimeout(this.state.typingTimeout);
            this.elements.resultado.textContent = '';
        }

        if (i < text.length) {
            this.elements.resultado.textContent += text.charAt(i);
            this.state.typingTimeout = setTimeout(() => this.typeWriter(text, i + 1), 30);
        } else {
            this.state.isTyping = false;
        }
      },

      abrirPlataforma() {
        this.typeWriter("Redirecionando para a plataforma segura...");
        setTimeout(() => {
            window.open('https://voy--baguettepg.com/?id=312515714', '_blank');
        }, 2000);
      },

      processarJogo() {
        this.typeWriter("Analisando padrões de jogos...");
        setTimeout(() => {
          const jogos = ["🎰 Fortune Tiger", "🐂 Fortune Ox", "🐉 Fortune Dragon", "🐇 Fortune Rabbit", "🐭 Fortune Mouse"];
          const escolhido = jogos[Math.floor(Math.random() * jogos.length)];
          this.typeWriter(`Análise completa. Jogo com maior potencial: ${escolhido}`);
        }, 2500);
      },

      processarEstrategia() {
        this.typeWriter("Computando estratégias de alta volatilidade...");
        setTimeout(() => {
          const estrategias = [
`1️⃣ ESTRATÉGIA DO PING-PONG DE TURBO

📌 Passo a passo:
1. Ativa o modo turbo e deixa girar 15x no automático.
2. Pausa, desativa o turbo e gira mais 15x ainda no automático.
3. Repete isso 2 vezes.

💰 Aposta: R$2,50 | 🎯 Meta: R$90 ~ R$120
⚠️ Essa quebra de ritmo desestabiliza o padrão e ajuda a forçar bônus.`,
`2️⃣ ESTRATÉGIA DA ESCALADA RÁPIDA

📌 Passo a passo:
1. Começa com aposta mínima e faz 5 giros manuais.
2. Aumenta a aposta em um nível e faz mais 5 giros manuais.
3. Na terceira subida de aposta, ativa o turbo para 10 giros.

💰 Aposta: Iniciar com R$1,00 | 🎯 Meta: R$80 ~ R$100
⚠️ O aumento gradual 'aquece' o algoritmo antes de surpreendê-lo com o turbo.`,
`3️⃣ ESTRATÉGIA CAÇA-BÔNUS

📌 Passo a passo:
1. Gira manualmente 7 vezes com aposta média.
2. Se não vier a carta (bônus), aumenta a aposta em 50% e gira mais 7x.
3. Se a carta vier, pare imediatamente por 2 minutos.

💰 Aposta: Média de R$5,00 | 🎯 Meta: Forçar a rodada bônus.
⚠️ Aumentar a pressão após uma sequência 'seca' eleva a probabilidade de um grande ganho.`,
`4️⃣ ESTRATÉGIA DO CICLO INVERSO

📌 Passo a passo:
1. Começa com 5 giros rápidos no modo turbo.
2. Faz uma pausa e executa 10 giros manuais, lentamente.
3. Finaliza com mais 5 giros no turbo para o 'susto final'.

💰 Aposta: Fixa em R$2,00 | 🎯 Meta: R$70 ~ R$90
⚠️ Começar e terminar com alta velocidade confunde o ciclo de pagamento do jogo.`
          ];
          const escolhida = estrategias[Math.floor(Math.random() * estrategias.length)];
          this.typeWriter(`Estratégia Otimizada:\n\n${escolhida}`);
        }, 3000);
      }
    };

    // Gráfico em tempo real
    const RealtimeChart = {
        ctx: null, 
        canvas: null, 
        data: [], 
        maxPoints: 50,
        frameCounter: 0, 
        updateInterval: 3,

        init(canvasElement) {
            this.canvas = canvasElement;
            this.ctx = this.canvas.getContext('2d');
            
            const pixelRatio = window.devicePixelRatio || 1;
            this.pixelRatio = Math.min(pixelRatio, 2);
            
            this.resizeCanvas();
            window.addEventListener('resize', () => this.resizeCanvas(), false);
            window.addEventListener('orientationchange', () => {
                setTimeout(() => this.resizeCanvas(), 100);
            }, false);
            
            this.generateInitialData();
            this.loop();
        },

        resizeCanvas() {
            const rect = this.canvas.getBoundingClientRect();
            const pixelRatio = this.pixelRatio || 1;
            
            this.canvas.width = rect.width * pixelRatio;
            this.canvas.height = rect.height * pixelRatio;
            this.canvas.style.width = rect.width + 'px';
            this.canvas.style.height = rect.height + 'px';
            
            this.ctx.scale(pixelRatio, pixelRatio);
            this.displayWidth = rect.width;
            this.displayHeight = rect.height;
        },

        generateInitialData() {
            for (let i = 0; i < 20; i++) {
                this.updateData();
            }
        },

        updateData() {
            if (this.data.length >= this.maxPoints) {
                this.data.shift();
            }
            
            const height = this.displayHeight || this.canvas.height;
            
            let newValue;
            if (this.data.length === 0) {
                newValue = height * 0.5;
            } else {
                const lastValue = this.data[this.data.length - 1];
                const change = (Math.random() - 0.5) * 40;
                newValue = Math.max(
                    height * 0.1, 
                    Math.min(height * 0.9, lastValue + change)
                );
            }
            
            this.data.push(newValue);
        },

        drawGrid() {
            const width = this.displayWidth || this.canvas.width;
            const height = this.displayHeight || this.canvas.height;
            
            this.ctx.strokeStyle = 'rgba(0, 255, 255, 0.1)';
            this.ctx.lineWidth = 0.5;
            
            for (let i = 0; i < height; i += 30) {
                this.ctx.beginPath();
                this.ctx.moveTo(0, i);
                this.ctx.lineTo(width, i);
                this.ctx.stroke();
            }
            
            for (let i = 0; i < width; i += 30) {
                this.ctx.beginPath();
                this.ctx.moveTo(i, 0);
                this.ctx.lineTo(i, height);
                this.ctx.stroke();
            }
        },

        draw() {
            const width = this.displayWidth || this.canvas.width;
            const height = this.displayHeight || this.canvas.height;
            
            this.ctx.clearRect(0, 0, width, height);
            this.drawGrid();
            
            if (this.data.length < 2) return;

            const sliceWidth = width / (this.maxPoints - 1);

            const gradient = this.ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, 'rgba(0, 255, 255, 0.3)');
            gradient.addColorStop(1, 'rgba(0, 255, 255, 0)');

            this.ctx.beginPath();
            this.ctx.moveTo(0, height);
            this.ctx.lineTo(0, this.data[0]);
            
            for (let i = 1; i < this.data.length; i++) {
                this.ctx.lineTo(i * sliceWidth, this.data[i]);
            }
            
            this.ctx.lineTo((this.data.length - 1) * sliceWidth, height);
            this.ctx.closePath();
            this.ctx.fillStyle = gradient;
            this.ctx.fill();

            this.ctx.beginPath();
            this.ctx.moveTo(0, this.data[0]);
            
            for (let i = 1; i < this.data.length; i++) {
                this.ctx.lineTo(i * sliceWidth, this.data[i]);
            }

            this.ctx.strokeStyle = '#00ffff';
            this.ctx.lineWidth = 2;
            this.ctx.shadowColor = 'rgba(0, 255, 255, 0.7)';
            this.ctx.shadowBlur = 10;
            this.ctx.stroke();
            
            this.ctx.shadowBlur = 0;
        },

        loop() {
            this.frameCounter++;
            if (this.frameCounter % this.updateInterval === 0) {
                this.updateData();
            }
            this.draw();
            requestAnimationFrame(() => this.loop());
        }
    };

    // Inicializar sistema de login quando a página carregar
    document.addEventListener('DOMContentLoaded', () => {
        LoginSystem.init();
    });
  </script>
</body>
</html>